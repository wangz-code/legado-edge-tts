# legado-edge-tts

edge å¤§å£°æœ—è¯»å¾®è½¯ TTS æœåŠ¡, åœ¨é˜…è¯» APP ä¸­æ·»åŠ é…ç½®è¯­éŸ³å¼•æ“Žæ–¹å¼æ”¶å¬å¾®è½¯ TTS / Edge å¤§å£°æœ—è¯» ä¹Ÿå¯ä»¥åœ¨æµè§ˆå™¨ç›´æŽ¥è®¿é—®è‡ªåŠ¨ä¸‹è½½çš„.mp3 æ–‡ä»¶æµ

## å…¶ä»–è¯´æ˜Ž
    - min.py æ˜¯ç²¾ç®€ç‰ˆ ä»…æœ‰ä¸€ä¸ªæŽ¥å£'
    - golang-tts æ˜¯åŸºäºŽrany2/edge-tts é€šè¿‡gptæå–æ ¸å¿ƒé€»è¾‘ç”Ÿæˆçš„  appç¼–è¯‘æˆäºŒè¿›åˆ¶.so æ–‡ä»¶,é€šè¿‡ jni åŠ è½½ ä½œä¸ºå†…ç½®ttsä½¿ç”¨
    - java-tts æ˜¯åŸºäºŽrany2/edge-tts é€šè¿‡gptæå–æ ¸å¿ƒé€»è¾‘ç”Ÿæˆçš„, å¯ä»¥ç›´æŽ¥é›†æˆ
    - ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ golang api éƒ¨ç½²åœ¨è‡ªå·±çš„vpsä¸Š, æˆ–è®¸å†…å­˜å ç”¨ä¼šä½Žä¸€ç‚¹,æ•ˆçŽ‡ä¼šé«˜ä¸€ç‚¹
    - ç†è®ºä¸Šå’Œrany2/edge-tts å‚æ•°éƒ½ä¸€è‡´, ä¸€è£ä¿±è£ä¸€æŸä¿±æŸ

## å¦‚æžœæ²¡æœ‰VPSå¯ä»¥ä½¿ç”¨ [https://github.com/wangz-code/legado](https://github.com/wangz-code/legado-with-edgetts)  è¿™ä¸ªé˜…è¯»å†…éƒ¨é›†æˆäº†Edgeå¤§å£°æœ—è¯»
 - ä¿®æ”¹éŸ³é¢‘æµçš„æš‚å­˜æ–¹å¼ (å†™ç¡¬ç›˜=>å†™å†…å­˜)
 åŽŸæ¥æ˜¯æŠŠéŸ³é¢‘ç¼“å­˜ç¡¬ç›˜ä¸Šä¼šé¢‘ç¹æ‰§è¡Œå†™å…¥å’Œåˆ é™¤(æœ‰å¤šå°‘æ®µè½å°±å†™å¤šå°‘æ¬¡),  æˆ‘ä¸ç¡®å®šé¢‘ç¹æ‰§è¡Œå†™å…¥ä¼šä¸ä¼šå½±å“å¯¿å‘½æˆ–è®¸å¯¹äºŽçŽ°ä»£å­˜å‚¨æ¥è¯´å½±å“å¾®ä¹Žå…¶å¾®ðŸ˜‹
 `æˆ‘æ”¹æˆäº†æ”¾åœ¨å†…å­˜ä¸­`, æ¯è¯»å®Œä¸€ç« å°±é‡Šæ”¾å·²è¯»å®Œçš„çš„åª’ä½“, ä¿®æ”¹å†…å®¹å‚è§:https://github.com/gedoor/legado/pull/5304

## æ–¹å¼ä¸€ ç›´æŽ¥è¿è¡Œ,éœ€è¦ python çŽ¯å¢ƒ

```sh
pip3 install Flask edge-tts

python3 main.py


# `GETæŽ¥å£æ˜¯ /ra  å’Œ POSTæŽ¥å£ /rap
# æµè§ˆå™¨è®¿é—®:
http://127.0.0.1:1233/api/ra?text=hello&rate=25

# é˜…è¯»å†…æœ—è¯»å¼•æ“Žé…ç½®url
http://127.0.0.1:1233/api/rap,{"method": "POST", "body": "text={{encodeURIComponent(speakText)}}&rate={{speakSpeed}}"}

# é˜…è¯»å†…æœ—è¯»å¼•æ“Žé…ç½®url æ”¯æŒå¯¹è¯&æ—ç™½åˆ‡æ¢éŸ³è‰²   æ„Ÿè°¢ https://github.com/retaw106 è´¡çŒ®
http://127.0.0.1:1233/api/rap2,{"method": "POST", "body": "text={{encodeURIComponent(speakText)}}&rate={{speakSpeed}}"}

# åœ¨é˜…è¯»å†…å¼€å¯ "æµå¼æ’­æ”¾éŸ³é¢‘" æ›´å¥½
# è¯­é€Ÿæœ€å¥½è®¾ç½®ä¸º2.5     >2.5 å°±è¯»çš„å¿«ï¼Œ < 2.5 å°±è¯»çš„æ…¢
```


## APPæ·»åŠ æœ—è¯»å¼•æ“Ž  ðŸ“¢æ³¨æ„ç‚¹å‡»é¡µé¢çš„"+"å·æ·»åŠ  ç¥å¤§å®¶çŽ©çš„å¼€å¿ƒ!
![detail.png](https://raw.githubusercontent.com/wangz-code/legado-edge-tts/main/demo.gif)


## /rap + /ra å…¶ä»–å¯é€‰å‚æ•°

| å‚æ•°  | é»˜è®¤å€¼               |
| ----- | -------------------- |
| voice | zh-CN-XiaoxiaoNeural |

## /rap2 å…¶ä»–å¯é€‰å‚æ•°

| å‚æ•°        | é»˜è®¤å€¼               | æè¿°     |
| ----------- | -------------------- | -------- |
| voice       | zh-CN-XiaoxiaoNeural | æ—ç™½éŸ³è‰² |
| voice_chat  | zh-CN-YunxiNeural    | å¯¹è¯éŸ³è‰² |
| volume_chat | 0                    | å¯¹è¯éŸ³é‡ |

## æ–¹å¼äºŒ ä½¿ç”¨ pm2 è¿è¡Œ, éœ€è¦ node çŽ¯å¢ƒ

```bash
# å¦‚æžœæ²¡æœ‰node éœ€è¦å…ˆå®‰è£…node, æŽ¨èä½¿ç”¨nvm  https://github.com/nvm-sh/nvm
node -v
# å®‰è£…pm2 è‡³å…¨å±€
npm install pm2 -g
# è¿è¡Œ,è´Ÿè½½å‡è¡¡, è¿›ç¨‹å®ˆæŠ¤ï¼šPM2 å¯ä»¥å§‹ç»ˆä¿æŒåº”ç”¨ç¨‹åºè¿è¡Œã€‚å½“åº”ç”¨ç¨‹åºå´©æºƒæ—¶ï¼ŒPM2 å¯ä»¥è‡ªåŠ¨é‡å¯å®ƒï¼Œç¡®ä¿æœåŠ¡çš„å¯ç”¨æ€§ã€‚
pm2 start "python3 main.py"
```

# åŸºäºŽ

https://github.com/rany2/edge-tts
